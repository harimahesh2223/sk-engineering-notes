<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Engineering Tree</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
  <style>
    * { box-sizing: border-box; margin: 0; padding: 0; }
    body {
      font-family: 'Poppins', sans-serif;
      background: #0f172a;
      color: #e2e8f0;
    }
    header {
      background: linear-gradient(to right, #1f2937, #0f172a);
      padding: 20px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.6);
    }
    .header-content {
      display: flex;
      align-items: center;
      max-width: 1200px;
      margin: auto;
    }
    .logo {
      width: 60px;
      height: 60px;
      margin-right: 20px;
      border-radius: 50%;
      border: 2px solid #38bdf8;
    }
    .title-box h1 {
      font-size: 1.8rem;
      color: #38bdf8;
    }
    .title-box p {
      font-size: 0.9rem;
      color: #94a3b8;
    }
    nav {
      background-color: #1e293b;
      display: flex;
      justify-content: center;
      gap: 40px;
      padding: 14px 0;
    }
    nav a {
      color: #f1f5f9;
      text-decoration: none;
      font-weight: 600;
      font-size: 1.05rem;
      transition: 0.3s;
    }
    nav a.active, nav a:hover {
      color: #38bdf8;
    }
    .container {
      max-width: 1000px;
      margin: 40px auto;
      padding: 0 20px;
    }
    h2 {
      text-align: center;
      color: #38bdf8;
      margin-bottom: 30px;
    }
    .grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
      gap: 20px;
    }
    .card {
      background: #1e293b;
      padding: 20px;
      border-radius: 15px;
      text-align: center;
      border: 2px solid #334155;
      transition: all 0.3s ease;
      font-weight: bold;
      color: #f1f5f9;
      box-shadow: 0 0 10px rgba(56, 189, 248, 0.1);
      cursor: pointer;
    }
    .card:hover {
      background: #334155;
      transform: translateY(-5px);
      box-shadow: 0 0 15px #38bdf8;
    }
    .btn-group {
      margin-top: 15px;
      display: flex;
      justify-content: center;
      gap: 10px;
    }
    .btn-group a {
      text-decoration: none;
      background: #38bdf8;
      color: #0f172a;
      padding: 10px 14px;
      border-radius: 6px;
      font-weight: bold;
      transition: background 0.3s;
    }
    .btn-group a:hover {
      background: #0ea5e9;
      color: white;
    }
    footer {
      background-color: #0f172a;
      color: #94a3b8;
      text-align: center;
      padding: 20px;
      margin-top: 50px;
      font-size: 0.9rem;
    }
  </style>
</head>
<body>

  <header>
    <div class="header-content">
      <img src="https://i.imgur.com/2LDbmNd.png" alt="Logo" class="logo" />
      <div class="title-box">
        <h1>Engineering Tree</h1>
        <p>Download Free Engineering Materials</p>
      </div>
    </div>
  </header>

  <nav>
    <a href="#" id="homeLink" class="active" onclick="loadHomePage()">Home</a>
    <a href="#" id="semesterLink" onclick="showSemesterMenu()">Semester</a>
  </nav>

  <!-- Home Page -->
  <div class="container" id="homePage">
    <h2>All Subjects</h2>
    <div class="grid" id="allSubjects"></div>
  </div>

  <!-- Semester Menu -->
  <div class="container" id="semesterMenu" style="display: none;">
    <h2>Select Semester</h2>
    <div class="grid" id="semesterGrid"></div>
  </div>

  <!-- Footer -->
  <footer>
    &copy; 2025 Engineering Tree. All rights reserved.
  </footer>

  <script>
    const materials = {
      1: [{ title: "Engineering Maths I", id: "FILE_ID_1" }, { title: "Physics", id: "FILE_ID_2" }],
      2: [{ title: "Chemistry", id: "FILE_ID_3" }, { title: "C Programming", id: "FILE_ID_4" }],
      3: [{ title: "Data Structures", id: "FILE_ID_5" }, { title: "Digital Circuits", id: "FILE_ID_6" }],
      4: [{ title: "OS", id: "FILE_ID_7" }, { title: "DBMS", id: "FILE_ID_8" }],
      5: [{ title: "Networks", id: "FILE_ID_9" }, { title: "Web Dev", id: "FILE_ID_10" }],
      6: [{ title: "AI", id: "FILE_ID_11" }, { title: "IoT", id: "FILE_ID_12" }],
      7: [{ title: "ML", id: "FILE_ID_13" }, { title: "Cybersecurity", id: "FILE_ID_14" }],
      8: [{ title: "Project", id: "FILE_ID_15" }, { title: "Professional Ethics", id: "FILE_ID_16" }]
    };

    function loadAllSubjects() {
      const container = document.getElementById("allSubjects");
      let allSubjects = [];
      Object.values(materials).forEach(subArr => allSubjects.push(...subArr));
      container.innerHTML = allSubjects.map(createSubjectCard).join('');
    }

    function createSubjectCard(subject) {
      return `
        <div class="card">
          <h3>${subject.title}</h3>
          <div class="btn-group">
            <a href="https://drive.google.com/file/d/${subject.id}/preview" target="_blank">Preview</a>
            <a href="https://drive.google.com/uc?id=${subject.id}&export=download" target="_blank">Download</a>
          </div>
        </div>
      `;
    }

    function loadHomePage() {
      document.getElementById("homePage").style.display = "block";
      document.getElementById("semesterMenu").style.display = "none";
      loadAllSubjects();
      setActiveLink("homeLink");
    }

    function showSemesterMenu() {
      document.getElementById("homePage").style.display = "none";
      document.getElementById("semesterMenu").style.display = "block";
      const grid = document.getElementById("semesterGrid");
      grid.innerHTML = '';
      for (let sem = 1; sem <= 8; sem++) {
        grid.innerHTML += `<div class="card" onclick="openSemester(${sem})">Semester ${sem}</div>`;
      }
      setActiveLink("semesterLink");
    }

    function openSemester(sem) {
      const newWin = window.open("", "_blank");
      const subjects = materials[sem] || [];
      const html = `
        <html>
        <head>
          <title>Semester ${sem}</title>
          <style>
            body { font-family: 'Poppins', sans-serif; background: #0f172a; color: #f1f5f9; padding: 30px; }
            h2 { text-align: center; color: #38bdf8; }
            .grid {
              display: grid;
              grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
              gap: 20px;
              margin-top: 30px;
            }
            .card {
              background: #1e293b;
              padding: 20px;
              border-radius: 12px;
              text-align: center;
              box-shadow: 0 0 10px rgba(56, 189, 248, 0.1);
              border: 1px solid #334155;
            }
            .btn-group {
              margin-top: 15px;
              display: flex;
              justify-content: center;
              gap: 10px;
            }
            a {
              text-decoration: none;
              background: #38bdf8;
              color: #0f172a;
              padding: 10px 14px;
              border-radius: 6px;
              font-weight: bold;
              transition: background 0.3s;
            }
            a:hover {
              background: #0ea5e9;
              color: white;
            }
          </style>
        </head>
        <body>
          <h2>Semester ${sem} Subjects</h2>
          <div class="grid">
            ${subjects.map(sub => `
              <div class="card">
                <h3>${sub.title}</h3>
                <div class="btn-group">
                  <a href="https://drive.google.com/file/d/${sub.id}/preview" target="_blank">Preview</a>
                  <a href="https://drive.google.com/uc?id=${sub.id}&export=download" target="_blank">Download</a>
                </div>
              </div>
            `).join("")}
          </div>
        </body>
        </html>`;
      newWin.document.write(html);
    }

    function setActiveLink(linkId) {
      document.querySelectorAll('nav a').forEach(link => link.classList.remove('active'));
      document.getElementById(linkId).classList.add('active');
    }

    window.onload = loadHomePage;
  </script>

</body>
</html>
